{% extends "base.html" %} {% load socialaccount %} {% block content %}

<!-- Mobile Menu -->
<div class="mobile-menu">
  <button class="close-menu"><i class="fas fa-times"></i></button>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="dashboard.html">Categories</a></li>
    <li><a href="dashboard.html">New Arrivals</a></li>
    <li><a href="dashboard.html">Trending</a></li>
    <li><a href="dashboard.html">Sale</a></li>
    <li><a href="profile.html">Profile</a></li>
    <li><a href="wishlist.html">Wishlist</a></li>
    <li><a href="order-history.html">Orders</a></li>
    <li><a href="login.html">Logout</a></li>
  </ul>
</div>

<!-- Profile Section -->
<section class="profile-section">
  <div class="container">
    <div class="profile-header">
      <h1>My Account</h1>
      <div class="profile-stats">
        <div class="stat">
          <span class="stat-number"> {{ order_count }} </span>
          <span class="stat-label">Orders</span>
        </div>
        <div class="stat">
          <span class="stat-number"> {{ wishlist_count }} </span>
          <span class="stat-label">Wishlist</span>
        </div>
        <div class="stat">
          <span class="stat-number"> {{ reviews_count }} </span>
          <span class="stat-label">Reviews</span>
        </div>
      </div>
    </div>

    <div class="profile-content">
      <!-- Sidebar -->
      <aside class="profile-sidebar">
        <div class="profile-info">
          <div class="profile-avatar">
            <img
              src="{{ customer.profile_image_url }}"
              alt="{{ customer.fullname|default:request.user.username }}"
            />
          </div>
          <div class="profile-name">
            <h3>{{ customer.fullname|default:request.user.username }}</h3>
          </div>
        </div>

        <ul class="profile-menu">
          <li>
            <a href="#"
              ><i class="fas fa-shopping-bag"></i> Order History</a
            >
          </li>
          <li>
            <a href="{% url 'wishlist' %}"
              ><i class="fas fa-heart"></i> My Wishlist</a
            >
          </li>
          <li>
            <a href="#"><i class="fas fa-map-marker-alt"></i> Address Book</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-credit-card"></i> Payment Methods</a>
          </li>
          <li>
            <a href="{% url 'logout' %}"
              ><i class="fas fa-sign-out-alt"></i> Logout</a
            >
          </li>
        </ul>
      </aside>

      <!-- Main Content -->
      <main class="profile-main">
        <div class="profile-tabs">
          <div class="tab-headers">
            <button class="tab-header active" data-tab="personal">
              Personal Info
            </button>
          </div>

          <!-- Personal Info Tab -->
          <div class="tab-content active" id="personal">
            <div class="tab-header-section">
              <h2>Personal Information</h2>
              <p>Update your personal details and contact information</p>
            </div>

            <form id="personalInfoForm">
              <div class="form-row">
                <div class="form-group">
                  <label for="firstName">First Name</label>
                  <input
                    type="text"
                    id="firstName"
                    value="{{ customer.fullname|default:request.user.first_name }}"
                    required
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="email">Email Address</label>
                <input
                  type="email"
                  id="email"
                  value="{{ request.user.email }}"
                  required
                />
              </div>

              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input
                  type="tel"
                  id="phone"
                  value="{{ customer.phone|default:'01**-*******' }}"
                />
              </div>

              <div class="form-group">
                <label for="birthdate">Date of Birth</label>
                <input type="date" id="birthdate" value="1990-01-15" />
              </div>

              <div class="form-group">
                <label>Gender</label>
                <div class="radio-group">
                  <label class="radio-option">
                    <input type="radio" name="gender" value="male" checked />
                    <span class="radio-label">Male</span>
                  </label>
                  <label class="radio-option">
                    <input type="radio" name="gender" value="female" />
                    <span class="radio-label">Female</span>
                  </label>
                  <label class="radio-option">
                    <input type="radio" name="gender" value="other" />
                    <span class="radio-label">Other</span>
                  </label>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-outline">Cancel</button>
                <button type="submit" class="btn btn-primary">
                  Save Changes
                </button>
              </div>
            </form>

            <!-- Address Section -->
            <div class="address-section">
              <div class="section-header">
                <h3>Saved Addresses</h3>
                <button class="btn btn-outline" id="addAddressBtn">
                  <i class="fas fa-plus"></i> Add New Address
                </button>
              </div>

              <div class="address-grid">
                {% for address in addresses %}
                <div
                  class="address-card {% if forloop.first %}primary{% endif %}"
                >
                  <div class="address-header">
                    <h4>{{ address.address_line1 }}</h4>
                    {% if forloop.first %}
                    <span class="address-badge">Primary</span>
                    {% endif %}
                  </div>
                  <div class="address-details">
                    <p>{{ address.first_name }} {{ address.last_name }}</p>
                    <p>{{ address.address_line1 }}</p>
                    {% if address.address_line2 %}
                    <p>{{ address.address_line2 }}</p>
                    {% endif %}
                    <p>
                      {{ address.city }}, {{ address.state }} - {{ address.postal_code }}
                    </p>
                    <p>{{ address.country }}</p>
                    <p>Phone: {{ customer.phone|default:"N/A" }}</p>
                  </div>
                </div>
                {% empty %}
                <p>No addresses saved yet.</p>
                {% endfor %}
              </div>
            </div>
          </div>

          <!-- Security Tab -->
          <div class="tab-content" id="security">
            <div class="tab-header-section">
              <h2>Security Settings</h2>
              <p>Manage your password and account security</p>
            </div>

            <div class="security-section">
              <div class="security-card">
                <div class="security-info">
                  <h4>Password</h4>
                  <p>Last changed 3 months ago</p>
                </div>
                <button class="btn btn-outline" id="changePasswordBtn">
                  Change Password
                </button>
              </div>

              <div class="security-card">
                <div class="security-info">
                  <h4>Two-Factor Authentication</h4>
                  <p>Add an extra layer of security to your account</p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="twoFactorToggle" />
                  <label for="twoFactorToggle"></label>
                </div>
              </div>

              <div class="security-card">
                <div class="security-info">
                  <h4>Login Activity</h4>
                  <p>Review your recent login history</p>
                </div>
                <button class="btn btn-outline" id="viewActivityBtn">
                  View Activity
                </button>
              </div>

              <div class="security-card">
                <div class="security-info">
                  <h4>Connected Devices</h4>
                  <p>Manage devices that are logged into your account</p>
                </div>
                <button class="btn btn-outline" id="manageDevicesBtn">
                  Manage Devices
                </button>
              </div>
            </div>

            <!-- Change Password Modal (simplified version) -->
            <div
              class="change-password-form"
              id="changePasswordForm"
              style="display: none"
            >
              <h3>Change Password</h3>
              <form>
                <div class="form-group">
                  <label for="currentPassword">Current Password</label>
                  <input type="password" id="currentPassword" required />
                </div>

                <div class="form-group">
                  <label for="newPassword2">New Password</label>
                  <input type="password" id="newPassword2" required />
                </div>

                <div class="form-group">
                  <label for="confirmNewPassword2">Confirm New Password</label>
                  <input type="password" id="confirmNewPassword2" required />
                </div>

                <div class="form-actions">
                  <button
                    type="button"
                    class="btn btn-outline"
                    id="cancelPasswordBtn"
                  >
                    Cancel
                  </button>
                  <button type="submit" class="btn btn-primary">
                    Update Password
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- Preferences Tab -->
          <div class="tab-content" id="preferences">
            <div class="tab-header-section">
              <h2>Preferences</h2>
              <p>Customize your shopping experience</p>
            </div>

            <div class="preferences-section">
              <div class="preference-card">
                <div class="preference-info">
                  <h4>Newsletter Subscription</h4>
                  <p>
                    Receive updates about new products, promotions, and fashion
                    tips
                  </p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="newsletterToggle" checked />
                  <label for="newsletterToggle"></label>
                </div>
              </div>

              <div class="preference-card">
                <div class="preference-info">
                  <h4>Personalized Recommendations</h4>
                  <p>
                    Get product suggestions based on your browsing and purchase
                    history
                  </p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="recommendationsToggle" checked />
                  <label for="recommendationsToggle"></label>
                </div>
              </div>

              <div class="preference-card">
                <div class="preference-info">
                  <h4>Order Updates</h4>
                  <p>Receive notifications about your order status</p>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="orderUpdatesToggle" checked />
                  <label for="orderUpdatesToggle"></label>
                </div>
              </div>

              <div class="preference-card">
                <div class="preference-info">
                  <h4>Preferred Currency</h4>
                  <p>Select your preferred currency for displaying prices</p>
                </div>
                <select id="currencySelect">
                  <option value="USD" selected>US Dollar (USD)</option>
                  <option value="EUR">Euro (EUR)</option>
                  <option value="GBP">British Pound (GBP)</option>
                  <option value="CAD">Canadian Dollar (CAD)</option>
                </select>
              </div>

              <div class="preference-card">
                <div class="preference-info">
                  <h4>Language</h4>
                  <p>Select your preferred language</p>
                </div>
                <select id="languageSelect">
                  <option value="en" selected>English</option>
                  <option value="es">Spanish</option>
                  <option value="fr">French</option>
                  <option value="de">German</option>
                </select>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-outline">
                  Reset Preferences
                </button>
                <button
                  type="button"
                  class="btn btn-primary"
                  id="savePreferencesBtn"
                >
                  Save Preferences
                </button>
              </div>
            </div>
          </div>

          <!-- Notifications Tab -->
          <div class="tab-content" id="notifications">
            <div class="tab-header-section">
              <h2>Notification Settings</h2>
              <p>Choose how you want to be notified</p>
            </div>

            <div class="notifications-section">
              <div class="notification-category">
                <h3>Email Notifications</h3>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>Order Updates</h4>
                    <p>
                      Receive emails about your order status, shipping, and
                      delivery
                    </p>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="emailOrderToggle" checked />
                    <label for="emailOrderToggle"></label>
                  </div>
                </div>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>Promotional Offers</h4>
                    <p>Get emails about sales, discounts, and special offers</p>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="emailPromoToggle" checked />
                    <label for="emailPromoToggle"></label>
                  </div>
                </div>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>New Arrivals</h4>
                    <p>
                      Be notified when new products are added to our collection
                    </p>
                  </div>
                  <div class="toggle-switch">
                    <input
                      type="checkbox"
                      id="emailNewArrivalsToggle"
                      checked
                    />
                    <label for="emailNewArrivalsToggle"></label>
                  </div>
                </div>
              </div>

              <div class="notification-category">
                <h3>Push Notifications</h3>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>Order Updates</h4>
                    <p>Receive push notifications about your order status</p>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="pushOrderToggle" checked />
                    <label for="pushOrderToggle"></label>
                  </div>
                </div>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>Promotional Offers</h4>
                    <p>Get push notifications about sales and special offers</p>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="pushPromoToggle" />
                    <label for="pushPromoToggle"></label>
                  </div>
                </div>

                <div class="notification-option">
                  <div class="notification-info">
                    <h4>Cart Reminders</h4>
                    <p>Reminders about items left in your cart</p>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="pushCartToggle" />
                    <label for="pushCartToggle"></label>
                  </div>
                </div>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="btn btn-primary"
                  id="saveNotificationsBtn"
                >
                  Save Notification Settings
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-col">
        <h3>Style<span>Hub</span></h3>
        <p>
          Premium clothing for everyone. Quality fabrics, modern designs, and
          affordable prices.
        </p>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-pinterest"></i></a>
        </div>
      </div>
      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="dashboard.html">Shop</a></li>
          <li><a href="dashboard.html">New Arrivals</a></li>
          <li><a href="dashboard.html">Sale</a></li>
          <li><a href="profile.html">My Account</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Customer Service</h4>
        <ul>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Shipping Policy</a></li>
          <li><a href="#">Return & Exchange</a></li>
          <li><a href="#">FAQs</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Contact Info</h4>
        <ul class="contact-info">
          <li>
            <i class="fas fa-map-marker-alt"></i> 123 Fashion Street, New York,
            NY
          </li>
          <li><i class="fas fa-phone"></i> (123) 456-7890</li>
          <li><i class="fas fa-envelope"></i> info@stylehub.com</li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2023 StyleHub. All Rights Reserved.</p>
    </div>
  </div>
</footer>
{% endblock content %}
